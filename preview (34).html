<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Impossible Skibidi Glitch Maze (6 7 Cool Edition)</title>
    <style> body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #000;
    margin: 0;
    color: white;
    font-family: monospace;
}

#game-container {
    position: relative;
}

canvas {
    border: 2px solid white;
    background-color: #111;
}

#game-over-screen {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.9);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
}

#game-over-screen h1 {
    color: #ff00ff; /* Glitchy color */
    font-size: 24px;
    animation: flicker 0.1s infinite alternate;
}

#game-over-screen button {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    background-color: #00ff00;
    border: none;
}

@keyframes flicker {
    to {
        opacity: 0.5;
    }
}
 </style>
</head>
<body>
    <div id="game-container">
        <canvas id="gameCanvas" width="600" height="400"></canvas>
        <div id="game-over-screen" style="display:none;">
            <h1>GAME OVER! You fell for the Glitch (Skibidi)!</h1>
            <button onclick="location.reload()">Try Again?</button>
        </div>
    </div>
    <script> const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const gameOverScreen = document.getElementById('game-over-screen');

let player = {
    x: 50,
    y: 350,
    size: 20,
    color: '#00ffff', // Cool Skibidi Teal
    speed: 5,
    dx: 0,
    dy: 0
};

let obstacles = [];
let score = 0;
let gameOver = false;
let controlsInverted = false;
let invincibleMode = false; // Secret feature for "6 7"

// Function to make the game "impossible" - the required key never spawns
function spawnImpossibleKey() {
    // The red key (needed to win) is defined but NEVER actually added to the game world.
    const key = {
        x: Math.random() * (canvas.width - 30) + 15,
        y: Math.random() * (canvas.height - 30) + 15,
        size: 10,
        color: '#ff0000', // The elusive red key
        isFound: false
    };
    // We don't add it to any render list. It's just a variable.
}

// Create chaotic, moving obstacles (the "Skibidi Glitches")
function createObstacle() {
    const size = Math.random() * 30 + 10;
    const x = canvas.width;
    const y = Math.random() * (canvas.height - size);
    const speed = Math.random() * 4 + 2;

    obstacles.push({
        x,
        y,
        size,
        speed,
        color: `rgb(${Math.random() * 255}, ${Math.random() * 255}, ${Math.random() * 255})`
    });
}

// Drawing functions
function drawPlayer() {
    ctx.fillStyle = player.color;
    ctx.fillRect(player.x, player.y, player.size, player.size);
}

function drawObstacles() {
    obstacles.forEach(obs => {
        ctx.fillStyle = obs.color;
        ctx.fillRect(obs.x, obs.y, obs.size, obs.size);
    });
}

function drawScore() {
    ctx.fillStyle = 'white';
    ctx.font = '20px monospace';
    ctx.fillText(`Score: ${score}`, 10, 20);
    ctx.fillText(`Controls: ${controlsInverted ? 'INVERTED' : 'NORMAL'}`, 10, 40);
}

// Update game state
function update() {
    if (gameOver) return;

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Player movement
    player.x += player.dx;
    player.y += player.dy;

    // Keep player within bounds, but make edges insta-death
    if (player.x < 0 || player.x + player.size > canvas.width || player.y < 0 || player.y + player.size > canvas.height) {
        if (!invincibleMode) endGame();
    }

    // Obstacle movement and collision
    obstacles.forEach(obs => {
        obs.x -= obs.speed * 1.5; // Very fast horizontal movement

        // Collision detection (Axis-Aligned Bounding Box)
        if (player.x < obs.x + obs.size &&
            player.x + player.size > obs.x &&
            player.y < obs.y + obs.size &&
            player.y + player.size > obs.y) {
                if (!invincibleMode) endGame();
        }
    });

    // Remove off-screen obstacles
    obstacles = obstacles.filter(obs => obs.x + obs.size > 0);

    // Increase difficulty/score
    score++;
    if (score % 500 === 0) {
        // Randomly invert controls every 500 points (pure chaos)
        controlsInverted = !controlsInverted;
    }
    
    // Periodically spawn new obstacles more frequently as score increases
    if (score % 50 === 0) {
        createObstacle();
    }
    
    drawPlayer();
    drawObstacles();
    drawScore();

    requestAnimationFrame(update);
}

// Handle input
document.addEventListener('keydown', (e) => {
    if (gameOver) return;

    let moveX = 0;
    let moveY = 0;

    switch (e.key) {
        case 'ArrowUp':
        case 'w':
            moveY = controlsInverted ? player.speed : -player.speed;
            break;
        case 'ArrowDown':
        case 's':
            moveY = controlsInverted ? -player.speed : player.speed;
            break;
        case 'ArrowLeft':
        case 'a':
            moveX = controlsInverted ? player.speed : -player.speed;
            break;
        case 'ArrowRight':
        case 'd':
            moveX = controlsInverted ? -player.speed : player.speed;
            break;
        case '6': // Secret "6" button activates invincibility for a moment
            if (!invincibleMode) {
                invincibleMode = true;
                player.color = '#ffeda0';
                setTimeout(() => {
                    invincibleMode = false;
                    player.color = '#00ffff';
                }, 3000); // 3 seconds of invincibility
            }
            break;
        case '7': // Secret "7" button speeds up game slightly
             player.speed += 1;
             break;
    }

    // Instant movement for crisp controls (like "The World's Hardest Game" style)
    player.dx = moveX;
    player.dy = moveY;
});

document.addEventListener('keyup', (e) => {
    // Stop movement when key is released
    switch (e.key) {
        case 'ArrowUp':
        case 'w':
        case 'ArrowDown':
        case 's':
            player.dy = 0;
            break;
        case 'ArrowLeft':
        case 'a':
        case 'ArrowRight':
        case 'd':
            player.dx = 0;
            break;
    }
});


function endGame() {
    gameOver = true;
    gameOverScreen.style.display = 'flex';
    // The ultimate impossible condition: you must have found the non-existent key to "win".
    // This condition can never be true, making the game technically impossible to complete.
    if (typeof key !== 'undefined' && key.isFound) {
        document.querySelector('#game-over-screen h1').textContent = "You Win?! How did you get the key?!";
    }
}

// Initialize the game
createObstacle();
createObstacle();
createObstacle();
spawnImpossibleKey(); // The key is spawned, but inaccessible.

requestAnimationFrame(update);
 </script>
</body>
</html>
